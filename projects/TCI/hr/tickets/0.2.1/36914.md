# 36914

## ğŸ“‹ Quick Info

- **Ticket ID:** #36914
- **Title:** Cáº­p nháº­t DB thÃ´ng tin ÄÃ³ng há»“ sÆ¡
- **Scope:** HC02
- **Project:** HR
- **Type:** Featue
- **Category:** Code
- **Parrent:**
- **Target version:** [0.2.1](../../release-note/0.2.1.md)
- **Created:** 2025-30-07
- **Resolve:**

## ğŸ¯ Description

- ThÃªm 1 trÆ°á»ng `is_profile_closed` vÃ o báº£ng `employee`.
- Khi xÃ¡c nháº­n Ä‘Ã³ng thÃ¬ gÃ¡n trÆ°á»ng nÃ y báº±ng true, má»Ÿ láº¡i há»“ sÆ¡ thÃ¬ chuyá»ƒn vá» false.
- Äá»•i láº¡i logic kiá»ƒm tra cho phÃ©p sá»­a thÃ´ng tin trong há»“ sÆ¡ `is_profile_closed` = true -> thÃ¬ ko Ä‘Æ°á»£c chá»‰nh sá»­a há»“ sÆ¡ nhÃ¢n sá»±

## âœ… Tasks

- [x] Add `is_profile_closed` to `employee` table.
- [x] Update logic to set `is_profile_closed` when closing or reopening profile
- [x] Prevent editing employee profile when `is_profile_closed` is true

## ğŸ“ Notes

### Migration SQL

```sql
UPDATE employee SET is_profile_closed = 0 WHERE is_profile_closed IS NULL;
```

### Affected section

- HC02
- MÃ n hÃ¬nh danh sÃ¡ch há»£p Ä‘á»“ng
- MÃ n hÃ¬nh chi tiáº¿t há»£p Ä‘á»“ng

## ğŸ·ï¸ Tags

#ticket/TCI/HR/Code/Featue
