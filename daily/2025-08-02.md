# 2025-08-02

## Nếu có một cái boards hiển thị danh sách người chơi, cái ranking này muốn realtime cập nhật lên xuống thứ hạng người chơi theo points của họ

- Yêu cầu chính:
  - Dữ liệu người chơi (tên, điểm số, thứ hạng) được lưu trữ và cập nhật liên tục.
  - Giao diện người dùng (UI) hiển thị bảng xếp hạng, tự động cập nhật khi có thay đổi.
  - Hỗ trợ cập nhật thời gian thực với độ trễ thấp.
- Trả lời
  - Tận dụng tốc độ đọc ghi dữ liệu nhanh của redis
  - Sử dụng `WebSocket` hoặc [[Long polling]]

## Side Effect của React

- Là bất kỳ hành động nào được thực hiện bên ngoài phạm vi render của component
- Khá gần với khái niệm StateFullComponent
- `useEffect` là công cụ chính để xử lý side effect

## useEffect

- Là 1 react hook xử lý side effects như
  - fetching data,
  - updating the Dom
- 2 tham số:
  - Callback:
    - logic side effect
    - Cleanup function: clearInterval, removeEventListener
  - dependencies array
    - []: Chạy một lần duy nhất sau lần render đầu tiên
    - [a, b]: Chạy mỗi khi a hoặc b thay đổi
    - Không có: Chạy sau mỗi lần render

## useLayoutEffect,

- Runs **synchronously** after a component renders and before the browser paints the updated DOM
- Reading or modifying the DOM immediately after rendering
- Ensuring that changes happen before the user sees the updated UI.

## useCallback, useMemo.

## Event loop cơ bản [[event-loop]]

[//begin]: # "Autogenerated link references for markdown compatibility"
[Long polling]: ../notes/programming/long-polling.md "Long polling"
[event-loop]: ../notes/programming/javascript/event-loop.md "Event loop"
[//end]: # "Autogenerated link references"
